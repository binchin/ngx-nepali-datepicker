<div class="d-container">
  <div>
    <div class="d-header">
      <div class="d-controls">
        <span (click)="onPreviousMonth()" class="material-icons"
          >arrow_back_ios_new</span
        >
        <select
          [ngModel]="currentMonth$ | async"
          (ngModelChange)="onMonthChange($event)"
        >
          @for(month of months; track month.value){
          <option [value]="month.value">
            {{ month.name }}
          </option>
          }
        </select>
        <select
          [ngModel]="currentYear$ | async"
          (ngModelChange)="onYearChange($event)"
        >
          @for(year of years; track year){
          <option [value]="year">
            {{ year }}
          </option>
          }
        </select>
        <span (click)="onNextMonth()" class="material-icons"
          >arrow_forward_ios</span
        >
      </div>
    </div>
    <div class="d-dates">
      <div class="d-week">
        <div>Sun</div>
        <div>Mon</div>
        <div>Tue</div>
        <div>Wed</div>
        <div>Thu</div>
        <div>Fri</div>
        <div>Sat</div>
      </div>
      <div class="d-grid">
        <ng-container *ngIf="todaysDate$ | async as todaysDate">
          <div
            [class.current-date]="date.toString() === todaysDate"
            *ngFor="let date of currentMonthDates$ | async"
            class="date"
          >
            <span> {{ date | extractDateNumber }}</span>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>
